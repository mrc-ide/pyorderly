

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pyorderly &mdash; pyorderly 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=01f34227"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=30646c52"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="pyorderly.__about__" href="__about__/index.html" />
    <link rel="prev" title="API Reference" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            pyorderly
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../readme.html">pyorderly</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code.html">Code examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">pyorderly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="__about__/index.html">pyorderly.__about__</a></li>
<li class="toctree-l4"><a class="reference internal" href="core/index.html">pyorderly.core</a></li>
<li class="toctree-l4"><a class="reference internal" href="current/index.html">pyorderly.current</a></li>
<li class="toctree-l4"><a class="reference internal" href="outpack/index.html">pyorderly.outpack</a></li>
<li class="toctree-l4"><a class="reference internal" href="read/index.html">pyorderly.read</a></li>
<li class="toctree-l4"><a class="reference internal" href="run/index.html">pyorderly.run</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#package-contents">Package Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pyorderly.Parameters"><code class="docutils literal notranslate"><span class="pre">Parameters</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyorderly.artefact"><code class="docutils literal notranslate"><span class="pre">artefact()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyorderly.dependency"><code class="docutils literal notranslate"><span class="pre">dependency()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyorderly.description"><code class="docutils literal notranslate"><span class="pre">description()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyorderly.parameters"><code class="docutils literal notranslate"><span class="pre">parameters()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyorderly.resource"><code class="docutils literal notranslate"><span class="pre">resource()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyorderly.shared_resource"><code class="docutils literal notranslate"><span class="pre">shared_resource()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pyorderly</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">API Reference</a></li>
      <li class="breadcrumb-item active">pyorderly</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/autoapi/pyorderly/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-pyorderly">
<span id="pyorderly"></span><h1>pyorderly<a class="headerlink" href="#module-pyorderly" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="__about__/index.html">pyorderly.__about__</a></li>
<li class="toctree-l1"><a class="reference internal" href="core/index.html">pyorderly.core</a></li>
<li class="toctree-l1"><a class="reference internal" href="current/index.html">pyorderly.current</a></li>
<li class="toctree-l1"><a class="reference internal" href="outpack/index.html">pyorderly.outpack</a></li>
<li class="toctree-l1"><a class="reference internal" href="read/index.html">pyorderly.read</a></li>
<li class="toctree-l1"><a class="reference internal" href="run/index.html">pyorderly.run</a></li>
</ul>
</div>
</section>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading"></a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyorderly.Parameters" title="pyorderly.Parameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Parameters</span></code></a></p></td>
<td><p>A container for parameters used in a report.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading"></a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyorderly.artefact" title="pyorderly.artefact"><code class="xref py py-obj docutils literal notranslate"><span class="pre">artefact</span></code></a>(name, files)</p></td>
<td><p>Declare an artefact.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyorderly.dependency" title="pyorderly.dependency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dependency</span></code></a>(name, query, files)</p></td>
<td><p>Declare a dependency on another packet.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyorderly.description" title="pyorderly.description"><code class="xref py py-obj docutils literal notranslate"><span class="pre">description</span></code></a>(*[, display, long, custom])</p></td>
<td><p>Describe the current report.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyorderly.parameters" title="pyorderly.parameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parameters</span></code></a>(→ Parameters)</p></td>
<td><p>Declare parameters used in a report.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyorderly.resource" title="pyorderly.resource"><code class="xref py py-obj docutils literal notranslate"><span class="pre">resource</span></code></a>(files)</p></td>
<td><p>Declare that a file, or group of files, are an orderly resource.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyorderly.shared_resource" title="pyorderly.shared_resource"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shared_resource</span></code></a>(→ dict[str, str])</p></td>
<td><p>Copy shared resources into a packet directory.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="package-contents">
<h2>Package Contents<a class="headerlink" href="#package-contents" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pyorderly.Parameters">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyorderly.</span></span><span class="sig-name descname"><span class="pre">Parameters</span></span><a class="headerlink" href="#pyorderly.Parameters" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">types.SimpleNamespace</span></code></p>
<p>A container for parameters used in a report.</p>
<p>An instance of this class is returned by the <cite>orderly.parameters</cite> function.
Individual parameters can be accessed as fields of the object.</p>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="n">orderly</span><span class="o">.</span><span class="n">parameters</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">params</span><span class="o">.</span><span class="n">p</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyorderly.artefact">
<span class="sig-prename descclassname"><span class="pre">pyorderly.</span></span><span class="sig-name descname"><span class="pre">artefact</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyorderly.artefact" title="Link to this definition"></a></dt>
<dd><p>Declare an artefact.</p>
<p>By doing this you turn on a number of orderly features:</p>
<p>(1) Files that are artefacts will not be copied from the src
directory into the draft directory unless they are also listed as
a resource by ‘orderly.resource’</p>
<p>(2) If your script fails to produce these files, then
<cite>orderly.run</cite> will fail, guaranteeing that your task really does
produce the things you need it do.</p>
<p>(3) Within the final metadata, your artefacts will have additional
metadata; the description that you provide and a grouping.</p>
<section id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>description<span class="classifier">str</span></dt><dd><p>The name of the artefact</p>
</dd>
<dt>files<span class="classifier">str or [str]</span></dt><dd><p>The file, or array of files, that make up this artefact. These
are relative paths.</p>
</dd>
</dl>
</section>
<section id="returns">
<h3>Returns<a class="headerlink" href="#returns" title="Link to this heading"></a></h3>
<p>Nothing, this is called for its side effects within a running packet</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyorderly.dependency">
<span class="sig-prename descclassname"><span class="pre">pyorderly.</span></span><span class="sig-name descname"><span class="pre">dependency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyorderly.dependency" title="Link to this definition"></a></dt>
<dd><p>Declare a dependency on another packet.</p>
<section id="id1">
<h3>Parameters<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>name: str | None</dt><dd><p>The name of the packet to depend on, or None</p>
</dd>
<dt>query: str</dt><dd><p>A search query for packets, as a string. For example, “latest”,
“latest(parameter:x == ‘value’)” or “20230807-152344-ee606dce”</p>
</dd>
<dt>files: str | [str] | dict[str, str]</dt><dd><p>Files to use from the dependent packet</p>
</dd>
</dl>
</section>
<section id="id2">
<h3>Returns<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p>Data on the resolved dependency; this is an <cite>orderly.helpers.Plan</cite> object,
which contains elements <cite>id</cite>, <cite>name</cite> and <cite>files</cite></p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyorderly.description">
<span class="sig-prename descclassname"><span class="pre">pyorderly.</span></span><span class="sig-name descname"><span class="pre">description</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyorderly.description" title="Link to this definition"></a></dt>
<dd><p>Describe the current report.</p>
<section id="id3">
<h3>Parameters<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>display<span class="classifier">str</span></dt><dd><p>A friendly name for the report; this will be displayed in some
locations of the web interfaces, packit.</p>
</dd>
<dt>long<span class="classifier">str</span></dt><dd><p>A longer description, perhaps a sentence or two.</p>
</dd>
<dt>custom<span class="classifier">dict</span></dt><dd><p>Any additional metadata. Must be a dictionary with string keys
and string, number or boolean values.</p>
</dd>
</dl>
</section>
<section id="id4">
<h3>Returns<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<p>Nothing, this is called for its side effects within a running packet</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyorderly.parameters">
<span class="sig-prename descclassname"><span class="pre">pyorderly.</span></span><span class="sig-name descname"><span class="pre">parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pyorderly.Parameters" title="pyorderly.Parameters"><span class="pre">Parameters</span></a></span></span><a class="headerlink" href="#pyorderly.parameters" title="Link to this definition"></a></dt>
<dd><p>Declare parameters used in a report.</p>
<section id="id5">
<h3>Parameters<a class="headerlink" href="#id5" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>kwargs :</dt><dd><p>Keyword mappings of parameter names to default values (or to None
if no default is given)</p>
</dd>
</dl>
</section>
<section id="id6">
<h3>Returns<a class="headerlink" href="#id6" title="Link to this heading"></a></h3>
<p>The parameters that were passed to the report. If running outside of an
orderly context, this returns kwargs unmodified.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyorderly.resource">
<span class="sig-prename descclassname"><span class="pre">pyorderly.</span></span><span class="sig-name descname"><span class="pre">resource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyorderly.resource" title="Link to this definition"></a></dt>
<dd><p>Declare that a file, or group of files, are an orderly resource.</p>
<p>By explicitly declaring files as resources, orderly will mark the
files as immutable inputs and validate that your analysis does not
modify them with ‘orderly.run’.</p>
<section id="id7">
<h3>Parameters<a class="headerlink" href="#id7" title="Link to this heading"></a></h3>
<p>files : str|Path or [str|Path]</p>
</section>
<section id="id8">
<h3>Returns<a class="headerlink" href="#id8" title="Link to this heading"></a></h3>
<p>Nothing, this is called for its side effects within a running packet</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyorderly.shared_resource">
<span class="sig-prename descclassname"><span class="pre">pyorderly.</span></span><span class="sig-name descname"><span class="pre">shared_resource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pyorderly.shared_resource" title="Link to this definition"></a></dt>
<dd><p>Copy shared resources into a packet directory.</p>
<p>You can use this to share common resources (data or code) between multiple
packets. Additional metadata will be added to keep track of where the files
came from. Using this function requires the shared resources directory
<cite>shared/</cite> exists at the orderly root; an error will be
raised if this is not configured when we attempt to fetch files.</p>
<section id="id9">
<h3>Parameters<a class="headerlink" href="#id9" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>files: str | [str] | dict[str, str]</dt><dd><p>The shared resources to copy. If a dictionary is provided, the keys will
be the destination file while the value is the filename within the
shared resource directory.</p>
</dd>
</dl>
</section>
<section id="id10">
<h3>Returns<a class="headerlink" href="#id10" title="Link to this heading"></a></h3>
<blockquote>
<div><p>A dictionary of files that were copied. If a directory was copied, this
includes all of its individual contents. Do not rely on the ordering
where directory expansion was performed, as it may be platform
dependent.</p>
</div></blockquote>
</section>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="API Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="__about__/index.html" class="btn btn-neutral float-right" title="pyorderly.__about__" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023-present Imperial College of Science, Technology and Medicine.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>